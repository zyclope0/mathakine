# =============================================================================
# Mathakine - Variables d'environnement
# =============================================================================
# Copiez ce fichier vers .env et ajustez les valeurs.
# Ne jamais committer .env (contient des secrets).
# =============================================================================

# -----------------------------------------------------------------------------
# Base de données
# -----------------------------------------------------------------------------
# PostgreSQL (recommandé)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/mathakine

# Tests - base séparée obligatoire
# TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/test_mathakine

# -----------------------------------------------------------------------------
# Serveur
# -----------------------------------------------------------------------------
# Port backend (frontend attend 10000 par défaut)
PORT=10000
# MATH_TRAINER_DEBUG=true
# MATH_TRAINER_HOST=0.0.0.0

# -----------------------------------------------------------------------------
# Sécurité (obligatoire en production)
# -----------------------------------------------------------------------------
# Générer : python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=change_this_to_a_long_random_string_in_production

# JWT
ACCESS_TOKEN_EXPIRE_MINUTES=10080

# Admin initial (prod : valeurs fortes obligatoires)
# DEFAULT_ADMIN_EMAIL=admin@mathakine.com
# DEFAULT_ADMIN_PASSWORD=admin

# -----------------------------------------------------------------------------
# Frontend (emails, CORS)
# -----------------------------------------------------------------------------
# URL du frontend Next.js
# FRONTEND_URL=http://localhost:3000
# FRONTEND_URL=https://mathakine-frontend.onrender.com

# -----------------------------------------------------------------------------
# OpenAI - Génération IA (exercices, défis)
# -----------------------------------------------------------------------------
# Clé API OpenAI (obligatoire pour génération exercices/défis)
OPENAI_API_KEY=votre_cle_api_ici

# Modèle par défaut - exercices simples
OPENAI_MODEL=gpt-4o-mini

# Modèle raisonnement - défis logiques (si défini, override MODEL_MAP)
# o3: structured output + reasoning_effort (low/medium/high par type), plus économique que o1
OPENAI_MODEL_REASONING=o3

# -----------------------------------------------------------------------------
# Emails (mot de passe oublié, vérification)
# -----------------------------------------------------------------------------
# Option A - SendGrid (prioritaire si défini)
# SENDGRID_API_KEY=SG.xxx
# SENDGRID_FROM_EMAIL=noreply@mathakine.com

# Option B - SMTP (Gmail, Brevo, etc.)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=ton_email@gmail.com
# SMTP_PASSWORD=mot_de_passe_application
# SMTP_FROM_EMAIL=noreply@mathakine.com
# SMTP_USE_TLS=true

# Sans config : simulation en dev, erreur en production

# -----------------------------------------------------------------------------
# Monitoring
# -----------------------------------------------------------------------------
# Sentry - erreurs et APM
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
# SENTRY_TRACES_SAMPLE_RATE=0.1

# -----------------------------------------------------------------------------
# Environnement
# -----------------------------------------------------------------------------
# ENVIRONMENT=development
# ENVIRONMENT=production
# MATH_TRAINER_PROFILE=dev
# LOG_LEVEL=INFO
# LOG_FILE=logs/mathakine.log

# -----------------------------------------------------------------------------
# Tests
# -----------------------------------------------------------------------------
# TESTING=true
# TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/test_mathakine
